set nocompatible

filetype plugin indent on
syntax on

set autoindent
set cindent
set backupdir=~/.saves
set noswapfile
set expandtab
set smartindent
set softtabstop=4
set tabstop=4
set shiftwidth=4
set noerrorbells
set visualbell
set vb
set colorcolumn=80
set hlsearch
set switchbuf=usetab

set mouse=a
set ttymouse=xterm2

set wildignore+=**/node_modules/*,**/target/*

let mapleader=","
let g:CommandTAcceptSelectionTabMap='<CR>'

map <leader>f :CommandT<cr>

" Setup project/team-specific configurations
function! SetupEnvironment()
    let l:path = expand('%:p')
    " MapQuest
    if l:path =~ '/Users/ashamblin14/workspace'
        if &filetype == "javascript"
            setlocal tabstop=2 softtabstop=2 shiftwidth=2
        endif
    endif
endfunction

autocmd FileType make setlocal noexpandtab

au BufNewFile,BufRead *.js set filetype=javascript
au BufNewFile,BufRead *.json set filetype=javascript
au BufNewFile,BufRead Podfile,*.podspec set filetype=ruby
au BufNewFile,BufRead /usr/local/nginx/conf/* set filetype=nginx
au BufNewFile,BufRead *.less set filetype=less
au BufNewFile,BufRead *.md,*.txt setlocal textwidth=80
au BufWritePost *.py call Flake8()
au BufWritePost *.js :JSHint

au BufNewFile,BufRead *.dat setlocal noexpandtab
au BufNewFile,BufRead *.jade setlocal noexpandtab

au BufNewFile,BufRead * call SetupEnvironment()

call pathogen#infect()
