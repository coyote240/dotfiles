export CLICOLOR=1
export PYTHONPATH="/usr/local/lib/python2.7/site-packages:$PYTHONPATH"
export GRADLE_HOME=$HOME/bin/gradle
export ANDROID_PATH=/Applications/Android\ Studio.app/sdk/platform-tools:/Applications/Android\ Studio.app/sdk/tools
export POSTGRES_PATH=/Applications/Postgres.app/Contents/Versions/9.3/bin
export PATH=~/bin:/usr/local/bin:$PATH:$GRADLE_HOME/bin:$ANDROID_PATH:$POSTGRES_PATH

YELLOW=$(tput setaf 136);
ORANGE=$(tput setaf 166);
GREEN=$(tput setaf 64);
BASE2=$(tput setaf 254);
RESET=$(tput sgr0);

if [ -f /usr/local/git/contrib/completion/git-completion.bash ]; then
    . /usr/local/git/contrib/completion/git-completion.bash
fi

# Change the prompt character when encountering git repositories
function prompt_char {
    if ! git rev-parse --git-dir > /dev/null 2>&1; then
        echo '$'
        return 0
    fi

    git_branch=$(git branch 2>/dev/null| sed -n '/^\*/s/^\* //p')
    echo "($git_branch) $"
}

# Automatically activate virtualenv when encountered,
# deactivate on exit
function activate_env {
    HAS_DEACTIVATE=`type -t deactivate`

    if [ -e env/bin/activate ] && [ "${#VIRTUAL_ENV}" -eq 0 ]; then
        source env/bin/activate;
    elif [ ! -e env/bin/activate ] && [ "${#HAS_DEACTIVATE}" -ne 0 ]; then
        deactivate;
    fi

    unset HAS_DEACTIVATE
}
export PROMPT_COMMAND=activate_env
export PS1='\[$ORANGE\]\u\[$RESET\] @ \[$YELLOW\]\h\[$RESET\] in \[$GREEN\]\w\[$RESET\]\n\[$BASE2\]$(prompt_char)\[$RESET\] '


[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" # Load RVM into a shell session *as a function*

alias git=/usr/local/git/bin/git
alias preview="open -a Preview"
